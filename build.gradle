buildscript {
  repositories {
    jcenter()
    maven { url "http://dl.bintray.com/spinnaker/gradle" }
  }
  dependencies {
    classpath 'com.netflix.spinnaker:spinnaker-gradle-project:1.12.115'
  }
}

group = "com.netflix.spinnaker.spinnaker"


apply plugin: 'application'
apply plugin: 'nebula.os-package'
apply plugin: 'nebula.os-package-base'



ospackage {
  packageName = "${project.applicationName}"
  version = project.version.replaceAll("-SNAPSHOT", "")
  release '3'
  into "/opt/${project.applicationName}"
  from "."
}

task setupUbuntu(type: Deb) {
    installUtils = file('scripts/deb/utils.sh')
    preInstall = file('scripts/deb/preInstall.sh')
    postInstall = file('scripts/deb/postInstall.sh')
    postUninstall = file('scripts/deb/postUninstall.sh')
}

buildRpm {
  arch = NOARCH
  os = LINUX
}
